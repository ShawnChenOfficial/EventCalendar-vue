{"remainingRequest":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenxiaoxuan/Desktop/eventcalendar-vue/src/components/CalendarDay.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/src/components/CalendarDay.vue","mtime":1597487701632},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBldmVudF90YWcgZnJvbSAiLi9FdmVudC52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIGV2ZW50X3RhZwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGV2ZW50czogW10sCiAgICAgIE5leHRUb0RvSWQ6IDAKICAgIH07CiAgfSwKICBwcm9wczogWyJkYXRlIiwgIndlZWtkYXkiLCAibW9udGgiLCAieWVhciIsICJpc3RvZGF5Il0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuR2V0RXZlbnRzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBHZXRFdmVudHMoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLkJ1aWxkTFNLZXkoKSkpIHsKICAgICAgICB0cnkgewogICAgICAgICAgdGhpcy5ldmVudHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuQnVpbGRMU0tleSgpKSk7CiAgICAgICAgICB0aGlzLk5leHRUb0RvSWQgPSB0aGlzLmV2ZW50c1t0aGlzLmV2ZW50cy5sZW5ndGggLSAxXS5rZXlpZCArIDE7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmV2ZW50cy5sZW5ndGgpOwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5ldmVudHNbdGhpcy5ldmVudHMubGVuZ3RoIC0gMV0ua2V5aWQgKyAxKTsKICAgICAgICB9IGNhdGNoIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuZXZlbnRzKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5OZXh0VG9Eb0lkID0gMDsKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBCdWlsZExTS2V5KCkgewogICAgICAvL0xTIHJlcHJlc2VudHMgbG9jYWwgc3RvcmFnZQogICAgICByZXR1cm4gdGhpcy5kYXRlICsgIi0iICsgdGhpcy5tb250aCArICItIiArIHRoaXMueWVhcjsKICAgIH0sCiAgICBTYXZlSW5MUygpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5CdWlsZExTS2V5KCksIEpTT04uc3RyaW5naWZ5KHRoaXMuZXZlbnRzKSk7CiAgICB9LAogICAgQWRkKCkgewogICAgICB0aGlzLmV2ZW50cy5wdXNoKHsKICAgICAgICBrZXlpZDogdGhpcy5OZXh0VG9Eb0lkKyssCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgICB0aW1lOiAiIgogICAgICB9KTsKICAgICAgdGhpcy5TYXZlSW5MUygpOwogICAgfSwKICAgIGFzeW5jIFJlbW92ZShpdGVtKSB7CiAgICAgIHRoaXMuZXZlbnRzLnNwbGljZShbdGhpcy5ldmVudHMuaW5kZXhPZihpdGVtKV0sIDEpOwogICAgICB0aGlzLlNhdmVJbkxTKCk7CiAgICAgIHRoaXMuTm90aWZpY2F0aW9uKCJSZW1vdmUiLCAiQW4gZXZlbnQgcmVtb3ZlZCIsICJ3YXJuaW5nIik7CiAgICB9LAogICAgQ2FuY2VsKGl0ZW0pIHsKICAgICAgdGhpcy5ldmVudHMuc3BsaWNlKFt0aGlzLmV2ZW50cy5pbmRleE9mKGl0ZW0pXSwgMSk7CiAgICAgIHRoaXMuU2F2ZUluTFMoKTsKICAgIH0sCiAgICBVcGRhdGUoZXZlbnQsIGZvcm0pIHsKICAgICAgdGhpcy5ldmVudHNbdGhpcy5ldmVudHMuaW5kZXhPZihldmVudCldLnRpdGxlID0gZm9ybS50aXRsZTsKICAgICAgdGhpcy5ldmVudHNbdGhpcy5ldmVudHMuaW5kZXhPZihldmVudCldLmRlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvbjsKICAgICAgdGhpcy5ldmVudHNbdGhpcy5ldmVudHMuaW5kZXhPZihldmVudCldLnRpbWUgPSBmb3JtLnRpbWU7CiAgICAgIHRoaXMuU2F2ZUluTFMoKTsKICAgIH0sCiAgICBOb3RpZmljYXRpb24odGl0bGUsIG1lc3NhZ2UsIHZhcmlhbnQpIHsKICAgICAgdGhpcy4kYnZUb2FzdC50b2FzdChtZXNzYWdlLCB7CiAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgIHRvYXN0ZXI6ICJiLXRvYXN0ZXItYm90dG9tLXJpZ2h0IiwKICAgICAgICB2YXJpYW50OiB2YXJpYW50LAogICAgICAgIHNvbGlkOiB0cnVlCiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["CalendarDay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CalendarDay.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div :class=\"{ 'col-12 col-lg border pb-5': true, today: istoday }\">\n    <div v-if=\"istoday\">{{ date }} (Today)</div>\n    <div v-if=\"!istoday\">{{ date }}</div>\n    <div>{{ weekday }}</div>\n    <div class=\"border-top\"></div>\n    <div class=\"mt-2 event-block\">\n      <div\n        is=\"event_tag\"\n        v-for=\"event in events\"\n        v-bind:key=\"event.keyid\"\n        v-bind:title=\"event.title\"\n        v-bind:description=\"event.description\"\n        v-bind:time=\"event.time\"\n        v-bind:event=\"event\"\n        @getlskey=\"BuildLSKey\"\n        @update=\"Update\"\n        @remove=\"Remove(event)\"\n        @cancel=\"Cancel(event)\"\n      ></div>\n      <div class=\"mt-3\">\n        <b-button variant=\"link\" size=\"sm\" @click=\"Add\">\n          <b-icon icon=\"plus-square\" class=\"hover-icons-add-event\"></b-icon>\n        </b-button>\n      </div>\n      <b-icon\n        v-show=\"loading\"\n        class=\"mt-5\"\n        icon=\"x-diamond-fill\"\n        animation=\"throb\"\n        font-scale=\"4\"\n      ></b-icon>\n    </div>\n  </div>\n</template>\n\n<script>\nimport event_tag from \"./Event.vue\";\n\nexport default {\n  components: {\n    event_tag\n  },\n  data() {\n    return {\n      loading: true,\n      events: [],\n      NextToDoId: 0\n    };\n  },\n  props: [\"date\", \"weekday\", \"month\", \"year\", \"istoday\"],\n  mounted() {\n    this.GetEvents();\n  },\n  methods: {\n    GetEvents() {\n      this.loading = true;\n      if (localStorage.getItem(this.BuildLSKey())) {\n        try {\n          this.events = JSON.parse(localStorage.getItem(this.BuildLSKey()));\n          this.NextToDoId = this.events[this.events.length - 1].keyid + 1;\n          console.log(this.events.length);\n          console.log(this.events[this.events.length - 1].keyid + 1);\n        } catch {\n          localStorage.getItem(this.events);\n        }\n      } else {\n        this.NextToDoId = 0;\n      }\n      this.loading = false;\n    },\n    BuildLSKey() {\n      //LS represents local storage\n      return this.date + \"-\" + this.month + \"-\" + this.year;\n    },\n    SaveInLS() {\n      localStorage.setItem(this.BuildLSKey(), JSON.stringify(this.events));\n    },\n    Add() {\n      this.events.push({\n        keyid: this.NextToDoId++,\n        title: \"\",\n        description: \"\",\n        time: \"\"\n      });\n      this.SaveInLS();\n    },\n    async Remove(item) {\n      this.events.splice([this.events.indexOf(item)], 1);\n      this.SaveInLS();\n      this.Notification(\"Remove\", \"An event removed\", \"warning\");\n    },\n    Cancel(item) {\n      this.events.splice([this.events.indexOf(item)], 1);\n      this.SaveInLS();\n    },\n    Update(event, form) {\n      this.events[this.events.indexOf(event)].title = form.title;\n      this.events[this.events.indexOf(event)].description = form.description;\n      this.events[this.events.indexOf(event)].time = form.time;\n      this.SaveInLS();\n    },\n    Notification(title, message, variant) {\n      this.$bvToast.toast(message, {\n        title: title,\n        toaster: \"b-toaster-bottom-right\",\n        variant: variant,\n        solid: true\n      });\n    }\n  }\n};\n</script>\n\n<style>\n.today {\n  background-color: #9995bb;\n}\n.hover-icons-add-event:hover {\n  transition: all 0.5s;\n  width: 24px;\n  height: 24px;\n}\n</style>\n"]}]}