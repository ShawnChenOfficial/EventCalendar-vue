{"remainingRequest":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenxiaoxuan/Desktop/eventcalendar-vue/src/components/CalendarDay.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/src/components/CalendarDay.vue","mtime":1597422255951},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudG9kYXkgewogIGJhY2tncm91bmQtY29sb3I6ICM5OTk1YmI7Cn0KLmhvdmVyLWljb25zLWFkZC1ldmVudDpob3ZlciB7CiAgdHJhbnNpdGlvbjogYWxsIDAuNXM7CiAgd2lkdGg6IDI0cHg7CiAgaGVpZ2h0OiAyNHB4Owp9Cg=="},{"version":3,"sources":["CalendarDay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CalendarDay.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div :class=\"{ 'col-12 col-lg border pb-5': true, today: istoday }\">\n    <div v-if=\"istoday\">{{ date }} (Today)</div>\n    <div v-if=\"!istoday\">{{ date }}</div>\n    <div>{{ weekday }}</div>\n    <div class=\"border-top\"></div>\n    <div class=\"mt-2 event-block\">\n      <div\n        is=\"event_tag\"\n        v-for=\"event in events\"\n        v-bind:key=\"event.keyid\"\n        v-bind:title=\"event.title\"\n        v-bind:description=\"event.description\"\n        v-bind:time=\"event.time\"\n        v-bind:event=\"event\"\n        @getlskey=\"BuildLSKey\"\n        @update=\"Update\"\n        @remove=\"Remove(event)\"\n        @cancel=\"Cancel(event)\"\n      ></div>\n      <div class=\"mt-3\">\n        <b-button variant=\"link\" size=\"sm\" @click=\"Add\">\n          <b-icon icon=\"plus-square\" class=\"hover-icons-add-event\"></b-icon>\n        </b-button>\n      </div>\n      <b-icon\n        v-show=\"loading\"\n        class=\"mt-5\"\n        icon=\"x-diamond-fill\"\n        animation=\"throb\"\n        font-scale=\"4\"\n      ></b-icon>\n    </div>\n  </div>\n</template>\n\n<script>\nimport event_tag from \"./Event.vue\";\n\nexport default {\n  components: {\n    event_tag\n  },\n  data() {\n    return {\n      loading: true,\n      events: [],\n      NextToDoId: 0\n    };\n  },\n  props: [\"date\", \"weekday\", \"month\", \"year\", \"istoday\"],\n  mounted() {\n    this.GetEvents();\n  },\n  methods: {\n    GetEvents() {\n      this.loading = true;\n      if (localStorage.getItem(this.BuildLSKey())) {\n        try {\n          this.events = JSON.parse(localStorage.getItem(this.BuildLSKey()));\n          this.NextToDoId = this.events[this.events.length - 1].keyid;\n        } catch {\n          localStorage.getItem(this.events);\n        }\n      } else {\n        this.NextToDoId = 0;\n      }\n      this.loading = false;\n    },\n    BuildLSKey() {\n      //LS represents local storage\n      return this.date + \"-\" + this.month + \"-\" + this.year;\n    },\n    SaveInLS() {\n      localStorage.setItem(this.BuildLSKey(), JSON.stringify(this.events));\n    },\n    Add() {\n      this.events.push({\n        keyid: this.NextToDoId++,\n        title: \"\",\n        description: \"\",\n        time: \"\"\n      });\n      this.SaveInLS();\n    },\n    async Remove(item) {\n      this.events.splice([this.events.indexOf(item)], 1);\n      this.SaveInLS();\n      this.Notification(\"Remove\", \"An event removed\", \"warning\");\n    },\n    Cancel(item) {\n      this.events.splice([this.events.indexOf(item)], 1);\n      this.SaveInLS();\n    },\n    Update(event, form) {\n      this.events[this.events.indexOf(event)].title = form.title;\n      this.events[this.events.indexOf(event)].description = form.description;\n      this.events[this.events.indexOf(event)].time = form.time;\n      this.SaveInLS();\n    },\n    Notification(title, message, variant) {\n      this.$bvToast.toast(message, {\n        title: title,\n        toaster: \"b-toaster-bottom-right\",\n        variant: variant,\n        solid: true\n      });\n    }\n  }\n};\n</script>\n\n<style>\n.today {\n  background-color: #9995bb;\n}\n.hover-icons-add-event:hover {\n  transition: all 0.5s;\n  width: 24px;\n  height: 24px;\n}\n</style>\n"]}]}