{"remainingRequest":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/babel-loader/lib/index.js!/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/chenxiaoxuan/Desktop/eventcalendar-vue/src/utils/pdf_gen.js","dependencies":[{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/src/utils/pdf_gen.js","mtime":1597318194045},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenxiaoxuan/Desktop/eventcalendar-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGh0bWwyQ2FudmFzIGZyb20gImh0bWwyY2FudmFzIjsKaW1wb3J0IEpzUERGIGZyb20gImpzcGRmIjsKZXhwb3J0IGRlZmF1bHQgewogIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoVnVlKSB7CiAgICBWdWUucHJvdG90eXBlLmdldFBkZiA9IGZ1bmN0aW9uICh0aXRsZSkgewogICAgICBodG1sMkNhbnZhcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcGRmRG9tIiksIHsKICAgICAgICBhbGxvd1RhaW50OiB0cnVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNhbnZhcykgewogICAgICAgIHZhciBjb250ZW50V2lkdGggPSBjYW52YXMud2lkdGg7CiAgICAgICAgdmFyIGNvbnRlbnRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0OwogICAgICAgIHZhciBwYWdlSGVpZ2h0ID0gY29udGVudFdpZHRoIC8gNTkyLjI4ICogODQxLjg5OwogICAgICAgIHZhciBsZWZ0SGVpZ2h0ID0gY29udGVudEhlaWdodDsKICAgICAgICB2YXIgcG9zaXRpb24gPSAwOwogICAgICAgIHZhciBpbWdXaWR0aCA9IDU5NS4yODsKICAgICAgICB2YXIgaW1nSGVpZ2h0ID0gNTkyLjI4IC8gY29udGVudFdpZHRoICogY29udGVudEhlaWdodDsKICAgICAgICB2YXIgcGFnZURhdGEgPSBjYW52YXMudG9EYXRhVVJMKCJpbWFnZS9qcGVnIiwgMS4wKTsKICAgICAgICB2YXIgUERGID0gbmV3IEpzUERGKCIiLCAicHQiLCAiYTQiKTsKCiAgICAgICAgaWYgKGxlZnRIZWlnaHQgPCBwYWdlSGVpZ2h0KSB7CiAgICAgICAgICBQREYuYWRkSW1hZ2UocGFnZURhdGEsICJKUEVHIiwgMCwgaW1nSGVpZ2h0IC8gMiwgaW1nV2lkdGgsIGltZ0hlaWdodCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdoaWxlIChsZWZ0SGVpZ2h0ID4gMCkgewogICAgICAgICAgICBQREYuYWRkSW1hZ2UocGFnZURhdGEsICJKUEVHIiwgMCwgcG9zaXRpb24sIGltZ1dpZHRoLCBpbWdIZWlnaHQpOwogICAgICAgICAgICBsZWZ0SGVpZ2h0IC09IHBhZ2VIZWlnaHQ7CiAgICAgICAgICAgIHBvc2l0aW9uIC09IDg0MS44OTsKCiAgICAgICAgICAgIGlmIChsZWZ0SGVpZ2h0ID4gMCkgewogICAgICAgICAgICAgIFBERi5hZGRQYWdlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIFBERi5zYXZlKHRpdGxlICsgIi5wZGYiKTsKICAgICAgfSk7CiAgICB9OwogIH0KfTs="},{"version":3,"sources":["/Users/chenxiaoxuan/Desktop/eventcalendar-vue/src/utils/pdf_gen.js"],"names":["html2Canvas","JsPDF","install","Vue","prototype","getPdf","title","document","querySelector","allowTaint","then","canvas","contentWidth","width","contentHeight","height","pageHeight","leftHeight","position","imgWidth","imgHeight","pageData","toDataURL","PDF","addImage","addPage","save"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe;AACbC,EAAAA,OADa,mBACLC,GADK,EACA;AACXA,IAAAA,GAAG,CAACC,SAAJ,CAAcC,MAAd,GAAuB,UAASC,KAAT,EAAgB;AACrCN,MAAAA,WAAW,CAACO,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAD,EAAoC;AAC7CC,QAAAA,UAAU,EAAE;AADiC,OAApC,CAAX,CAEGC,IAFH,CAEQ,UAASC,MAAT,EAAiB;AACvB,YAAIC,YAAY,GAAGD,MAAM,CAACE,KAA1B;AACA,YAAIC,aAAa,GAAGH,MAAM,CAACI,MAA3B;AACA,YAAIC,UAAU,GAAIJ,YAAY,GAAG,MAAhB,GAA0B,MAA3C;AACA,YAAIK,UAAU,GAAGH,aAAjB;AACA,YAAII,QAAQ,GAAG,CAAf;AACA,YAAIC,QAAQ,GAAG,MAAf;AACA,YAAIC,SAAS,GAAI,SAASR,YAAV,GAA0BE,aAA1C;AACA,YAAIO,QAAQ,GAAGV,MAAM,CAACW,SAAP,CAAiB,YAAjB,EAA+B,GAA/B,CAAf;AACA,YAAIC,GAAG,GAAG,IAAItB,KAAJ,CAAU,EAAV,EAAc,IAAd,EAAoB,IAApB,CAAV;;AACA,YAAIgB,UAAU,GAAGD,UAAjB,EAA6B;AAC3BO,UAAAA,GAAG,CAACC,QAAJ,CAAaH,QAAb,EAAuB,MAAvB,EAA+B,CAA/B,EAAkCD,SAAS,GAAG,CAA9C,EAAiDD,QAAjD,EAA2DC,SAA3D;AACD,SAFD,MAEO;AACL,iBAAOH,UAAU,GAAG,CAApB,EAAuB;AACrBM,YAAAA,GAAG,CAACC,QAAJ,CAAaH,QAAb,EAAuB,MAAvB,EAA+B,CAA/B,EAAkCH,QAAlC,EAA4CC,QAA5C,EAAsDC,SAAtD;AACAH,YAAAA,UAAU,IAAID,UAAd;AACAE,YAAAA,QAAQ,IAAI,MAAZ;;AACA,gBAAID,UAAU,GAAG,CAAjB,EAAoB;AAClBM,cAAAA,GAAG,CAACE,OAAJ;AACD;AACF;AACF;;AACDF,QAAAA,GAAG,CAACG,IAAJ,CAASpB,KAAK,GAAG,MAAjB;AACD,OAzBD;AA0BD,KA3BD;AA4BD;AA9BY,CAAf","sourcesContent":["import html2Canvas from \"html2canvas\";\nimport JsPDF from \"jspdf\";\nexport default {\n  install(Vue) {\n    Vue.prototype.getPdf = function(title) {\n      html2Canvas(document.querySelector(\"#pdfDom\"), {\n        allowTaint: true\n      }).then(function(canvas) {\n        let contentWidth = canvas.width;\n        let contentHeight = canvas.height;\n        let pageHeight = (contentWidth / 592.28) * 841.89;\n        let leftHeight = contentHeight;\n        let position = 0;\n        let imgWidth = 595.28;\n        let imgHeight = (592.28 / contentWidth) * contentHeight;\n        let pageData = canvas.toDataURL(\"image/jpeg\", 1.0);\n        let PDF = new JsPDF(\"\", \"pt\", \"a4\");\n        if (leftHeight < pageHeight) {\n          PDF.addImage(pageData, \"JPEG\", 0, imgHeight / 2, imgWidth, imgHeight);\n        } else {\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, \"JPEG\", 0, position, imgWidth, imgHeight);\n            leftHeight -= pageHeight;\n            position -= 841.89;\n            if (leftHeight > 0) {\n              PDF.addPage();\n            }\n          }\n        }\n        PDF.save(title + \".pdf\");\n      });\n    };\n  }\n};\n"]}]}